<!--link href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.3.5/cropper.min.css" rel="stylesheet">

<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.3.5/cropper.min.js"></script-->

<body>
    <form>
    
    <input name="img" type="file" id="takePictureField" accept="image/*" onchange="uploadPhotos('/check_pic')" />
        
    </form>
    <div><span id="status"></span></div>
    
    <!--div style="width:400px; height:330px;">
    <!--img src="img.jpg" id="im"/>
    </div-->
    
<script>
//cropp = new Cropper(document.getElementById("im"));
window.uploadPhotos = function(url)
{
    var status = document.getElementById("status");
    
    status.innerHTML = "";
    
  var formData = new FormData();

  // HTML file input, chosen by user
  var fileInputElement = document.getElementById("takePictureField");
    
  formData.append("file", fileInputElement.files[0]);
status.innerHTML = "Uploading...";
  // JavaScript file-like object
  //var content = '<a id="a"><b id="b">hey!</b></a>'; // the body of the new file...
  //var blob = new Blob([content], { type: "text/xml"});
  //formData.append("webmasterfile", blob);

  var xhr = new XMLHttpRequest();
    
  xhr.onreadystatechange = function() 
  {
    if (xhr.readyState == XMLHttpRequest.DONE) 
    {
        status.innerHTML = (xhr.responseText);
    }
  }
  xhr.open("POST", url);
  xhr.send(formData);
}

</script>
</body>